<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>המחשבון של חגית</title>
    <style>
        textarea {
            background-color: white;
            font-family: Aharoni;
            font-size: 50px;
            border-radius: 5px;
            overflow: hidden;
            height: 60px;
            width: 300px;
            margin-left: 30px;
            margin-top: 30px;
        }

        div {
            background-image: url(https://i.imgur.com/715Gj.jpg);
            border: 10px solid #fdb6e1;
            border-radius: 5px;
            width: 400px;
            height: 550px;
            position: relative;
            margin-left: 30%;
            margin-top: 5%;
            padding-left: 10px;
        }


        table {
            padding-top: 30px;
            margin-left: 40px;
            margin-top: 10px;
            width: 100px;
        }

        button {
            border: 5px solid white;
            background-color: #fdb6e1;
            border-radius: 5px;
            font-family: Aharoni;
            font-size: 40px;
            height: 70px;
            width: 70px;
        }

            button:hover, button:active {
                font-size: 350%;
                
            }

       
      
        .clearbutton {
            background-color: #ff389b;
            color: white;
            border: 5PX solid #b34079;
        }s
    </style>

</head>
<body>
    <div>
        <textarea disabled id="idtextbox"></textarea>

        <table>

            <tr>
                <th><button onclick="num1()">1</button></th>
                <th><button onclick="num2()">2</button></th>
                <th><button onclick="num3()">3</button></th>
                <th><button onclick="addnum()">+</button></th>
            </tr>
            <tr>
                <th><button onclick="num4()">4</button></th>
                <th><button onclick="num5()">5</button></th>
                <th><button onclick="num6()">6</button></th>
                <th><button onclick="Subtraction()">-</button></th>
            </tr>
            <tr>
                <th><button onclick="num7()">7</button></th>
                <th><button onclick="num8()">8</button></th>
                <th><button onclick="num9()">9</button></th>
                <th><button onclick="Division()">/</button></th>
            </tr>
            <tr>
                <th><button onclick="numziro()">0</button></th>
                <th><button onclick="numpoint()">.</button></th>
                <th><button onclick="numSub()">(-)</button></th>
                <th><button onclick="multiplication()">*</button></th>
            </tr>
            <tr>
                <th ></th>
                <th><button class="clearbutton" onclick="numberclear()">ce</button></th>  
                <th><button class="clearbutton" onclick="numclear()">c</button></th>
                <th><button onclick="numSum()">=</button></th>
            </tr>
        </table>
    </div>
    <script>
 
        function num1() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) {
                document.getElementById("idtextbox").innerHTML += '1';
            }
        }
        function num2() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '2'; } }

        function num3() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '3'; }}

        function num4() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '4'; } }

        function num5() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '5'; }}

        function num6() {
            if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '6'; } }

        function num7() { if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '7'; }}

        function num8() { if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '8'; }}

        function num9() { if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '9'; } }

        function numziro() { if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '0'; }}

        function numpoint() { if (document.getElementById("idtextbox").innerHTML.length < 14) { document.getElementById("idtextbox").innerHTML += '.'; }}
        
            numAction = 0; // סופר פעולות

            function numSub() {
                document.getElementById("idtextbox").innerHTML += "-";
            }

            function addnum() //פונקציה להוספת פלוס
            {

                if (numAction == 0) {
                    document.getElementById("idtextbox").innerHTML += '+';
                    numAction++;
                }
                else {
                    alert("Just one action at a time");
                }

            }

            function Subtraction()//פונקציה להוספת מינוס

            {
                if (numAction == 0) {
                    document.getElementById("idtextbox").innerHTML += '-';
                    numAction++;
                }
                else {
                    alert("Just one action at a time");
                }

            }

            function Division()//פונקציה להוספת חילוק
            {
                if (numAction == 0) {
                    document.getElementById("idtextbox").innerHTML += '/';
                    numAction++;
                }
                else {
                    alert("Just one action at a time");
                }

            }

            function multiplication()//פונקציה להוספת כפל
            {
                if (numAction == 0) {
                    document.getElementById("idtextbox").innerHTML += '*';
                    numAction++;
                }
                else {
                    alert("Just one action at a time");
                }

            }
       
      
        function numSum()//פונקציה חישוב
        {
            var sum, Add, Sub, Div, Mult, lengthtext, strText = '';

            strText = document.getElementById("idtextbox").innerHTML;

            Add = strText.indexOf('+');
            Sub = strText.indexOf('-', 1);
            Mult = strText.indexOf('*');
            Div = strText.indexOf('/');

            negativeNum = 0;

            lengthtext = strText.length;

            if (Add > 0)// חישוב פעולת חיבור
            {
                var textValA = strText.slice(0, Add);
                var textValB = strText.slice(Add + 1, lengthtext);

                var valA = parseFloat(textValA);
                var valB = parseFloat(textValB);


                sum = valA + valB;

                document.getElementById('idtextbox').innerHTML = sum;
            } else

                if (Sub >= 0)// חישוב פעולת חיסור
                {
                    var a;

                    var textValA = strText.slice(0, Sub);
                    var textValB = strText.slice((Sub + 1), lengthtext);

                    var valA = parseFloat(textValA);
                    var valB = parseFloat(textValB);

                    if (negativeNum == 1) {

                    }
                    else {
                        if (textValA == "") {
                            sum = "Error";

                            document.getElementById('idtextbox').innerHTML = sum;

                        }

                        else if (textValB == "") {
                            sum = "Error";

                            document.getElementById('idtextbox').innerHTML = sum;
                        }

                        else {
                            sum = valA - valB;

                            document.getElementById('idtextbox').innerHTML = sum;
                        }

                    }

                }

            if (Mult >= 0)// חישוב פעולת כפל
            {
                var textValA = strText.slice(0, Mult);
                var textValB = strText.slice((Mult + 1), lengthtext);

                var valA = parseFloat(textValA);
                var valB = parseFloat(textValB);

                if (textValA == "") {
                    sum = "Error";

                    document.getElementById('idtextbox').innerHTML = sum;

                }

                else if (textValB == "") {
                    sum = "Error";

                    document.getElementById('idtextbox').innerHTML = sum;
                }
                else {

                    sum = valA * valB;

                    document.getElementById('idtextbox').innerHTML = sum;
                }


            }

            if (Div >= 0)// חישוב פעולת חילוק
            {
                var textValA = strText.slice(0, Div);
                var textValB = strText.slice((Div + 1), lengthtext);

                var valA = parseFloat(textValA);
                var valB = parseFloat(textValB);

                if (textValA == 0) {
                    sum = "Error";

                    document.getElementById('idtextbox').innerHTML = sum;

                }

                else if (textValB == 0) {
                    sum = "Error";

                    document.getElementById('idtextbox').innerHTML = sum;
                }

                else {
                    sum = valA / valB;

                    document.getElementById('idtextbox').innerHTML = sum;

                }

            }

        }
        function numberclear() // פוקציה למחיקת תו אחרון
        {
            var textBox = '', lenghTexe, clearText;

            textBox = document.getElementById('idtextbox').innerHTML;

            lenghText = textBox.length;

            clearText = textBox.slice(0, (lenghText - 1));

            document.getElementById('idtextbox').innerHTML = clearText;
            counterchar--;
        }
        function numclear() // פונקציה לניקוי תוכן
        {
            document.getElementById("idtextbox").innerHTML = '';
            numAction = 0;
            negativeNum = 0;
            counterchar = 0;
        }            
    </script>

</body>
</html>